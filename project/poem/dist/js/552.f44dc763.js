"use strict";(self["webpackChunkpoem"]=self["webpackChunkpoem"]||[]).push([[552],{2772:function(e,t,i){i.d(t,{Z:function(){return n}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"poem-book",on:{click:e.routerPoemPage}},[t("div",{staticClass:"poem-book-item"},[t("span",[e._v(e._s(e.itemindex))]),t("div",[t("h3",[e._v(e._s(e.title))]),t("p",[e._v("作者:"+e._s(e.author))])]),t("p",[e._v(e._s(e.SecondTitle))])])])},a=[],r=(i(7658),{props:{id:Number,value:[Number,String],title:String,author:String,SecondTitle:String,itemindex:[Number,String],type:Number},name:"PoemBook",methods:{routerPoemPage(){this.getClickLocalData(),this.$router.push({name:"section",params:{type:this.type,value:this.value,id:this.id}})},getClickLocalData(){let e={type:this.type,value:this.value,id:this.id};localStorage.clickItemData,localStorage.setItem("clickItemData",JSON.stringify(e))}}}),c=r,l=i(1001),o=(0,l.Z)(c,s,a,!1,null,"cde81860",null),n=o.exports},4552:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"search-section"}},[t("header",[t("img",{attrs:{src:i(8250)},on:{click:e.gohome}}),t("form",{attrs:{action:"/"}},[t("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{input:e.setSearchListShow},scopedSlots:e._u([{key:"action",fn:function(){return[t("div",{on:{click:e.startSearch}},[e._v("搜索")])]},proxy:!0}]),model:{value:e.inputvalue,callback:function(t){e.inputvalue=t},expression:"inputvalue"}})],1)]),t("div",{staticClass:"section"},[t("div",{staticClass:"search-list-show"},[!e.searchList.Guest?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("读诗人")]),t("span",{on:{click:function(t){return e.searchMoreList(4)}}},[e._v("更多读诗人"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item"},e._l(e.searchList.Guest,(function(i){return t("SearchItem",{key:i.id,staticClass:"search-item-com",attrs:{id:i.id,pic:i.Image,title:i.Title,SecondTitle:i.SecondTitle,readingBook:!0,type:4,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,value:e.inputvalue}})})),1)]),!e.searchList.Poem?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("读本")]),t("span",{on:{click:function(t){return e.searchMoreList(7)}}},[e._v("更多读本"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item-poem"},e._l(e.searchList.Poem,(function(i,s){return t("PoemBook",{key:i.id,staticClass:"search-item-book",attrs:{id:i.id,itemindex:s+1<10?"0"+(s+1):s+1,title:i.Title,author:i.author_name,SecondTitle:i.SecondTitle,type:7,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,value:e.inputvalue}})})),1)]),!e.searchList.PoemData?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("节目")]),t("span",{on:{click:function(t){return e.searchMoreList(1)}}},[e._v("更多节目"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item"},e._l(e.searchList.PoemData,(function(i){return t("SearchItem",{key:i.id,staticClass:"search-item-com",attrs:{id:i.id,pic:i.Image,title:i.Title,SecondTitle:i.SecondTitle,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,type:1,value:e.inputvalue}})})),1)]),!e.searchList.SecondAlbum?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("专栏")]),t("span",{on:{click:function(t){return e.searchMoreList(3)}}},[e._v("更多专栏"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item"},e._l(e.searchList.SecondAlbum,(function(i){return t("SearchItem",{key:i.id,staticClass:"search-item-com",attrs:{id:i.id,pic:i.Image,title:i.Title,SecondTitle:i.SecondTitle,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,type:3,value:e.inputvalue}})})),1)]),!e.searchList.Album?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("大专栏")]),t("span",{on:{click:function(t){return e.searchMoreList(2)}}},[e._v("更多大专栏"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item"},e._l(e.searchList.Album,(function(i){return t("SearchItem",{key:i.id,staticClass:"search-item-com",attrs:{id:i.id,pic:i.Image,title:i.Title,SecondTitle:i.SecondTitle,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,value:e.inputvalue,type:2}})})),1)]),!e.searchList.Video?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("视频")]),t("span",{on:{click:function(t){return e.searchMoreList(5)}}},[e._v("更多视频"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item"},e._l(e.searchList.Video,(function(i){return t("SearchItem",{key:i.id,staticClass:"search-item-com",attrs:{id:i.id,pic:i.Image,title:i.Title,SecondTitle:i.SecondTitle,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,value:e.inputvalue,type:5}})})),1)]),!e.searchList.Activity?e._e():t("div",{staticClass:"search-list-item"},[t("div",{staticClass:"search-item-title"},[t("h3",[e._v("栖息岛")]),t("span",{on:{click:function(t){return e.searchMoreList(6)}}},[e._v("更多栖息岛"),t("img",{attrs:{src:i(4121)}})])]),t("div",{staticClass:"searhc-item"},e._l(e.searchList.Activity,(function(i){return t("SearchItem",{key:i.id,staticClass:"search-item-com",attrs:{id:i.id,pic:i.Image,title:i.Title,SecondTitle:i.SecondTitle,isVipFree:i.isVipFree??!1,freeType:i.freeType??!1,value:e.inputvalue,type:6}})})),1)])])])])},a=[],r=(i(7658),i(541),i(419)),c=i(2772),l={name:"SearchSection",data(){return{inputvalue:this.$route.query.value,searchList:[]}},components:{SearchItem:r.Z,PoemBook:c.Z},created(){this.$nextTick((()=>{this.getSearchData()}))},methods:{searchMoreList(e){this.$router.push({name:"MoreSearchList",params:{type:e,value:this.inputvalue}})},async getSearchData(){let e=await this.$axios({method:"post",url:"https://app.thepoemforyou.com/api/v1/SearchAll",data:{str:this.inputvalue},header:{"Content-Type":"application/x-www-form-urlencoded"}});this.searchList=e.data.data},startSearch(){this.searchListShow=!1,-1==this.historySearchData.indexOf(this.inputvalue)||(this.historySearchData=this.historySearchData.filter((e=>e!=this.inputvalue))),this.historySearchData.unshift(this.inputvalue),localStorage.setItem("historySearchData",JSON.stringify(this.historySearchData)),null!=localStorage.historySearchData&&(this.historySearchData=JSON.parse(localStorage.getItem("historySearchData"))),this.routertoSearchSection()},setSearchListShow(){this.getSearchData()},gohome(){this.$router.back(-1)}}},o=l,n=i(1001),h=(0,n.Z)(o,s,a,!1,null,"83377e78",null),u=h.exports}}]);
//# sourceMappingURL=552.f44dc763.js.map