{"version":3,"file":"js/381.8d0c9bde.js","mappings":"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","sources":["webpack://poem/./src/views/TypeSection/Type4Item.vue","webpack://poem/src/views/TypeSection/Type4Item.vue","webpack://poem/./src/views/TypeSection/Type4Item.vue?41c7","webpack://poem/./src/views/TypeSection/Type4Item.vue?f1f3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"type4-item\"}},[_c('header',[_c('van-nav-bar',{staticClass:\"nav-content\",attrs:{\"title\":\"栖息岛\"},on:{\"click-left\":_vm.clickLeft,\"click-right\":_vm.clickRight},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('img',{attrs:{\"src\":require(\"../../assets/imgs/images/pre.png\")}})]},proxy:true},{key:\"right\",fn:function(){return [_c('img',{attrs:{\"src\":require(\"../../assets/imgs/images/share.png\")}}),_c('van-share-sheet',{attrs:{\"options\":_vm.options,\"get-container\":\"#type4-item\"},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}})]},proxy:true}])})],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"section1\"},[_c('img',{staticClass:\"pic\",attrs:{\"src\":_vm.allData.activity_image}}),_c('h3',[_c('span',[_vm._v(_vm._s(_vm.allData.acticity_name))]),_c('img',{attrs:{\"src\":require(\"../../assets/imgs/images/sc.png\")}})]),_c('p',[_c('span',[_vm._v(\"征集\")]),_c('span',[_vm._v(_vm._s(_vm.allData.view_count)+\"人阅读\")])]),_c('div',{staticClass:\"text\"},_vm._l((_vm.text),function(item,i){return _c('p',{key:i},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)]),_c('div',{staticClass:\"section2\"},[_c('h3',[_vm._v(\"最新评论\")]),_c('div',{staticClass:\"items\"},_vm._l((_vm.comment),function(item,i){return _c('div',{key:item.id,staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":item.headerimgurl ?? _vm.picUrl}}),_c('h3',[_vm._v(_vm._s(item.username))])]),_c('p',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(item.content)+\" \")]),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.commentData[i]))]),_c('p',{staticClass:\"collect\"},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/images/xh.png\")}}),_c('span',[_vm._v(_vm._s(item.good_count)+\"人喜欢\")])]),_vm._m(0,true)])}),0)])]),_vm._m(1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"more\"},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/images/report1.png\")}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"issue\"},[_c('button',[_vm._v(\"我要发表\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"type4-item\">\r\n    <header>\r\n      <van-nav-bar\r\n        title=\"栖息岛\"\r\n        class=\"nav-content\"\r\n        @click-left=\"clickLeft\"\r\n        @click-right=\"clickRight\"\r\n      >\r\n        <template #left>\r\n          <img src=\"../../assets/imgs/images/pre.png\" />\r\n        </template>\r\n        <template #right>\r\n          <img src=\"../../assets/imgs/images/share.png\" />\r\n          <van-share-sheet\r\n            v-model=\"showShare\"\r\n            :options=\"options\"\r\n            get-container=\"#type4-item\"\r\n          />\r\n        </template>\r\n      </van-nav-bar>\r\n    </header>\r\n    <div class=\"content\">\r\n      <div class=\"section1\">\r\n        <img class=\"pic\" :src=\"allData.activity_image\" />\r\n        <h3>\r\n          <span>{{ allData.acticity_name }}</span>\r\n          <img src=\"../../assets/imgs/images/sc.png\" />\r\n        </h3>\r\n        <p>\r\n          <span>征集</span>\r\n          <span>{{ allData.view_count }}人阅读</span>\r\n        </p>\r\n        <div class=\"text\">\r\n          <p v-for=\"(item, i) in text\" :key=\"i\">\r\n            {{ item }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"section2\">\r\n        <h3>最新评论</h3>\r\n        <div class=\"items\">\r\n          <div class=\"item\" v-for=\"(item, i) in comment\" :key=\"item.id\">\r\n            <div class=\"title\">\r\n              <img :src=\"item.headerimgurl ?? picUrl\" />\r\n              <h3>{{ item.username }}</h3>\r\n            </div>\r\n            <p class=\"text\">\r\n              {{ item.content }}\r\n            </p>\r\n            <p class=\"date\">{{ commentData[i] }}</p>\r\n            <p class=\"collect\">\r\n              <img src=\"../../assets/imgs/images/xh.png\" />\r\n              <span>{{ item.good_count }}人喜欢</span>\r\n            </p>\r\n            <p class=\"more\">\r\n              <img src=\"../../assets/imgs/images/report1.png\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"issue\">\r\n        <button>我要发表</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Type4Item\",\r\n  data() {\r\n    return {\r\n      allData: {},\r\n      text: [],\r\n      comment: [],\r\n      commentData: [],\r\n      showShare: false,\r\n      picUrl: \"../../assets/imgs/images/userAvatar.png\",\r\n      options: [\r\n        { name: \"微信\", icon: \"wechat\" },\r\n        { name: \"朋友圈\", icon: \"wechat-moments\" },\r\n        { name: \"QQ\", icon: \"qq\" },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.$nextTick(()=>{\r\n      this.getData();\r\n    })\r\n  },\r\n  methods: {\r\n    clickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    clickRight() {\r\n      this.showShare = true;\r\n    },\r\n    async getData() {\r\n      let id = this.$route.query.id;\r\n      let data = await this.$axios({\r\n        method: \"post\",\r\n        url: \"https://app.thepoemforyou.com/api/v1/getActivityInfo\",\r\n        data: {\r\n          id: id,\r\n        },\r\n      });\r\n      this.allData = data.data.data;\r\n      this.text = this.allData.activity_remark.split(\"\\n\\n\");\r\n      let data1 = await this.$axios({\r\n        method: \"post\",\r\n        url: \"https://app.thepoemforyou.com/api/v1/getCommentList\",\r\n        data: {\r\n          partId: id,\r\n          page: 1,\r\n          limit: 20,\r\n          str: \"\",\r\n          type: 4,\r\n        },\r\n      });\r\n      this.comment = data1.data.data.data;\r\n      this.comment.map((item) => {\r\n        let str = this.formatDate(item.created.split(\" \")[0]);\r\n        this.commentData.push(str);\r\n      });\r\n    },\r\n    formatDate(str) {\r\n      let text = str.split(\"-\");\r\n      let dataWord = [\r\n        \"零\",\r\n        \"一\",\r\n        \"二\",\r\n        \"三\",\r\n        \"四\",\r\n        \"五\",\r\n        \"六\",\r\n        \"七\",\r\n        \"八\",\r\n        \"九\",\r\n        \"十\",\r\n      ];\r\n      let data = [\"年\", \"月\", \"日\"];\r\n      let newStr = \"\";\r\n      text.map((item, i) => {\r\n        let nums = item.split(\"\");\r\n        if (i == 1) {\r\n          nums.map((it) => {\r\n            if (Number(it) !== 0) {\r\n              newStr += dataWord[Number(it)];\r\n            }\r\n          });\r\n        } else if (i == 2 && nums.length > 1) {\r\n          nums.map((it, i) => {\r\n            newStr += dataWord[Number(it)];\r\n            if (i == 0) {\r\n              newStr += dataWord[10];\r\n            }\r\n          });\r\n        } else {\r\n          nums.map((it) => {\r\n            newStr += dataWord[Number(it)];\r\n          });\r\n        }\r\n\r\n        newStr += data[i];\r\n      });\r\n      return newStr;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#type4-item {\r\n  header {\r\n    padding: 0 20px;\r\n    position: sticky;\r\n    z-index: 999;\r\n    top: 0;\r\n    left: 0;\r\n    height: 50px;\r\n    background-color: #fff;\r\n    .nav-content {\r\n      .van-nav-bar__left img {\r\n        width: 10px;\r\n      }\r\n      .van-nav-bar__right img {\r\n        width: 20px;\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    width: 100%;\r\n    .section1 {\r\n      width: 100%;\r\n      border-bottom: 5px solid var(--theme-french-gray);\r\n      .pic {\r\n        display: inline-block;\r\n        width: 100%;\r\n        height: 300px;\r\n      }\r\n      h3 {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        padding: 20px 20px 0px;\r\n        span {\r\n          font-weight: 500;\r\n          font-size: 16px;\r\n          line-height: 1.5em;\r\n        }\r\n        img {\r\n          flex: 0;\r\n          margin-left: 15px;\r\n          width: 18px;\r\n          height: 18px;\r\n        }\r\n      }\r\n      p {\r\n        padding: 15px;\r\n        font-size: 13px;\r\n        color: var(--theme-gray);\r\n        span {\r\n          &:first-child {\r\n            color: rgb(219, 198, 80);\r\n            border-radius: 999px;\r\n            padding: 2px 3px;\r\n            border: 1px solid rgb(219, 198, 80);\r\n            margin-right: 5px;\r\n          }\r\n        }\r\n      }\r\n      .text {\r\n        margin-bottom: 10px;\r\n        p {\r\n          padding: 0px 20px;\r\n          line-height: 1.5em;\r\n          color: var(--theme-deep-color);\r\n        }\r\n      }\r\n    }\r\n    .section2 {\r\n      h3 {\r\n        padding: 20px 20px 0px 20px;\r\n        font-size: 15px;\r\n      }\r\n      .items {\r\n        padding: 10px  20px 20px;\r\n        .item {\r\n          padding: 15px;\r\n          margin: 20px 0;\r\n          box-shadow: 0 0 8px var( --theme-shadow);\r\n          .title {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            img {\r\n              margin-top: 15px;\r\n              width: 40px;\r\n              margin-right: 10px;\r\n            }\r\n            h3 {\r\n                padding: 20px 20px 0px 0px;\r\n            }\r\n          }\r\n          .text {\r\n            color: #000;\r\n            line-height: 1.5em;\r\n            margin-top: 10px;\r\n            font-size: 14px;\r\n          }\r\n          .date {\r\n            font-size: 13px;\r\n            margin-top: 30px;\r\n            color: var(--theme-gray);\r\n            text-align: right;\r\n          }\r\n          .collect {\r\n             font-size: 13px;\r\n            text-align: right;\r\n            margin-top: 2px;\r\n            color: var(--theme-gray);\r\n            img {\r\n              width: 10px;\r\n              vertical-align: baseline;\r\n              margin-right: 5px;\r\n              margin-top: 5px;\r\n            }\r\n          }\r\n          .more {\r\n            text-align: right;\r\n            margin-top: 2px;\r\n            img {\r\n              width: 17px;\r\n              display: inline-block;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .issue {\r\n    position: sticky;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding:5px 0;\r\n    text-align: center;\r\n    border-top: 1px solid var(--theme-french-gray);\r\n    background-color: #fff;\r\n    button {\r\n        padding: 10px 30px;\r\n        background-color: green;\r\n        color: #fff;\r\n        font-size: 14px;\r\n        border-radius: 999px;\r\n        border: 0px solid #000;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Type4Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Type4Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Type4Item.vue?vue&type=template&id=1e2fc135&scoped=true&\"\nimport script from \"./Type4Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Type4Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Type4Item.vue?vue&type=style&index=0&id=1e2fc135&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e2fc135\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","on","clickLeft","clickRight","scopedSlots","_u","key","fn","require","proxy","options","model","value","showShare","callback","$$v","expression","allData","activity_image","_v","_s","acticity_name","view_count","_l","text","item","i","comment","id","headerimgurl","picUrl","username","content","commentData","good_count","_m","staticRenderFns","name","data","icon","created","methods","method","url","partId","page","limit","str","type","formatDate","nums","newStr","component"],"sourceRoot":""}